<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <meta name="theme-color" content="#D71500">
    <meta name="description" content="Interactive patient education tool for TECNIS® IOL selection with personalized recommendations">
    
    <!-- Preconnect to Google Fonts for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <title>TECNIS® IOL Selection Tool | Patient Education Guide</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Early theme script to prevent FOUC -->
    <script>
      (function() {
        try {
          const storageKey = 'tecnis-iol-theme';
          const theme = localStorage.getItem(storageKey) || 'system';
          const root = document.documentElement;
          
          root.classList.remove('light', 'dark');
          
          if (theme === 'system') {
            const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches 
              ? 'dark' 
              : 'light';
            root.classList.add(systemTheme);
          } else {
            root.classList.add(theme);
          }
        } catch (e) {
          // Fallback to light theme if anything fails
          document.documentElement.classList.add('light');
        }
      })();
    </script>
  </head>
  <body>
    <!-- Skip Navigation Link for Screen Readers -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 z-50 bg-primary text-primary-foreground px-4 py-2 rounded-md font-medium">
      Skip to main content
    </a>
    
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
